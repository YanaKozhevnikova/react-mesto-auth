{"version":3,"sources":["utils/api.js","contexts/CurrentUserContext.js","images/logo.svg","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["api","baseUrl","token","this","_baseUrl","_token","res","ok","json","Promise","reject","status","statusText","fetch","headers","authorization","then","_checkResponse","info","method","body","JSON","stringify","name","link","card","_cardId","_id","isLiked","avatar","CurrentUserContext","React","createContext","Header","className","href","target","src","logoPath","alt","Card","props","currentUser","useContext","isOwn","owner","likes","some","like","cardLikeButtonClassName","onClick","onCardClick","type","onCardDelete","aria-label","onCardLike","length","Main","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","Footer","ImagePopup","onClose","PopupWithForm","isOpen","title","onSubmit","children","submit","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","value","onChange","required","minLength","maxLength","placeholder","id","EditAvatarPopup","avatarRef","useRef","current","onUpdateAvatar","reset","ref","AddPlacePopup","setLink","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","getUserInfo","userInfo","catch","err","console","log","getInitialCards","Provider","changeLikeCardStatus","newCard","state","c","deleteCard","filter","setUserInfo","changeAvatar","postCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1a83f795.chunk.js","sourcesContent":["class Api {\n  constructor(baseUrl, token) {\n    this._baseUrl = baseUrl;\n    this._token = token;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n       return Promise.reject(`Ошибка: ${res.status} ${res.statusText}`);\n    }\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}cards`, {\n      headers: {\n        authorization: this._token\n      }\n    })\n    .then(this._checkResponse)\n  }\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}users/me`, {\n      headers: {\n        authorization: this._token\n      }\n    })\n    .then(this._checkResponse)\n  }\n\n  setUserInfo(info) {\n    return fetch(`${this._baseUrl}users/me`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(info)\n      })\n    .then(this._checkResponse)\n  }\n\n  postCard({name, link}) {\n    return fetch(`${this._baseUrl}cards`, {\n      method: 'POST',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({name: name, link: link})\n    })\n    .then(this._checkResponse)\n  }\n\n  deleteCard(card) {\n    this._cardId = card._id;\n    return fetch(`${this._baseUrl}cards/${this._cardId}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._token,\n      },\n    })\n    .then(this._checkResponse)\n  }\n\n  changeLikeCardStatus(card, isLiked) {\n    this._cardId = card._id;\n    return fetch(`${this._baseUrl}cards/likes/${this._cardId}`, {\n      method: isLiked ? 'DELETE' : 'PUT',\n      headers: {\n        authorization: this._token,\n      },\n    })\n    .then(this._checkResponse)\n  }\n\n  changeAvatar(avatar) {\n    return fetch(`${this._baseUrl}users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({avatar})\n      })\n    .then(this._checkResponse)\n  }\n}\n\nconst api = new Api('https://mesto.nomoreparties.co/v1/cohort-24/', '0c664d7d-5920-42ff-9591-f94b8c7db340')\nexport default api;\n","import React from 'react';\nexport const CurrentUserContext = React.createContext();\n","export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import logoPath from '../images/logo.svg';\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n        <a href=\"#\" target=\"_self\">\n          <img src={logoPath} alt=\"Место\" className=\"header__logo\" />\n        </a>\n    </header>\n  )\n}\n\nexport default Header;\n","import React from 'react';\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const isOwn = props.card.owner._id === currentUser._id;\n  const isLiked = props.card.likes.some(like => like._id === currentUser._id);\n  const cardLikeButtonClassName = `element__like-button ${isLiked && 'element__like-button_active'}`;\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(props.card);\n  }\n\n  return (\n    <li className=\"element\">\n      <img className=\"element__image\" src={props.card.link} alt={props.card.name} onClick={handleClick} />\n      {isOwn && (\n        <button type=\"button\" className=\"element__delete-button\" onClick={handleDeleteClick} aria-label=\"Удалить\"></button>\n      )}\n      <div className=\"element__content\">\n        <h2 className=\"element__heading\">{props.card.name}</h2>\n        <div className=\"element__like\">\n          <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick} aria-label=\"Нравится\"></button>\n          <p className=\"element__like-count\">{props.card.likes.length}</p>\n        </div>\n      </div>\n    </li>\n  )\n}\n\nexport default Card;\n","import React from 'react';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main>\n      <section className=\"profile\">\n        <div className=\"profile__picture-container\">\n          <img src={currentUser.avatar} alt=\"Фото профиля\" className=\"profile__picture\" />\n          <button type=\"button\" className=\"profile__button profile__button_type_edit-picture\" aria-label=\"Изменить фото\" onClick={props.onEditAvatar}></button>\n        </div>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\n          <button type=\"button\" className=\"profile__button profile__button_type_edit\" aria-label=\"Изменить\" onClick={props.onEditProfile}></button>\n          <p className=\"profile__about\">{currentUser.about}</p>\n        </div>\n        <button type=\"button\" className=\"profile__button profile__button_type_add\" aria-label=\"Добавить\" onClick={props.onAddPlace}></button>\n      </section>\n      <ul className=\"elements\">\n        {props.cards.map((card) => (\n          <Card key={card._id}\n            card={card}\n            onCardClick={props.onCardClick}\n            onCardLike={props.onCardLike}\n            onCardDelete={props.onCardDelete}\n          />\n        ))}\n      </ul>\n    </main>\n  )\n}\n\nexport default Main;\n","function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\n    </footer>\n  )\n}\n\nexport default Footer;\n","function ImagePopup(props) {\n  return (\n    <div className={`popup popup_type_image ${props.card.link.length > 0 && 'popup_opened'}`}>\n      <div className=\"popup__image-container\">\n        <button type=\"button\" className=\"popup__close-button\" aria-label=\"Закрыть\" onClick={props.onClose}></button>\n        <img className=\"popup__image\" src={props.card.link} alt={props.card.name} />\n        <h2 className=\"popup__image-heading\">{props.card.name}</h2>\n      </div>\n    </div>\n  )\n}\n\nexport default ImagePopup;\n","function PopupWithForm(props) {\n  return (\n    <div className={`popup popup_type_${props.name} ${props.isOpen && 'popup_opened'}`}>\n      <div className=\"popup__container\">\n        <button type=\"button\" className=\"popup__close-button\" aria-label=\"Закрыть\" onClick={props.onClose}></button>\n        <h2 className=\"popup__heading\">{props.title}</h2>\n        <form name={props.name} className=\"form\" onSubmit={props.onSubmit}>\n          {props.children}\n          <button type=\"submit\" className=\"form__save-button\">{props.submit}</button>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default PopupWithForm;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, props.isOpen])\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleDescriptionChange(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n    name=\"profile\"\n    title=\"Редактировать профиль\"\n    submit=\"Сохранить\"\n    isOpen={props.isOpen}\n    onClose={props.onClose}\n    onSubmit={handleSubmit}\n    >\n      <input value={name} onChange={handleNameChange} type=\"text\" required minLength=\"2\" maxLength=\"40\" placeholder=\"Имя\" name=\"name\" id=\"name-input\" className=\"form__input form__input_type_name\" />\n      <span className=\"form__input-error name-input-error\"></span>\n      <input value={description} onChange={handleDescriptionChange} type=\"text\" required minLength=\"2\" maxLength=\"200\" placeholder=\"О себе\" name=\"about\" id=\"about-input\" className=\"form__input form__input_type_about\" />\n      <span className=\"form__input-error about-input-error\"></span>\n  </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup(props) {\n  const avatarRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateAvatar(avatarRef.current.value);\n    e.target.reset();\n  }\n\n  function handleClose() {\n    props.onClose();\n    avatarRef.current.value = '';\n  }\n\n\n\n  return (\n    <PopupWithForm\n      name=\"avatar\"\n      title=\"Обновить аватар\"\n      submit=\"Сохранить\"\n      isOpen={props.isOpen}\n      onClose={handleClose}\n      onSubmit={handleSubmit}\n      >\n        <input ref={avatarRef} type=\"url\" required placeholder=\"Ссылка на фото\" name=\"avatar\" id=\"avatar-input\" className=\"form__input form__input_type_avatar\" />\n        <span className=\"form__input-error avatar-input-error\"></span>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup(props) {\n  const [name, setName] = React.useState('');\n  const [link, setLink] = React.useState('');\n\n  React.useEffect(() => {\n    setName('');\n    setLink('')\n  }, [props.isOpen])\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleLinkChange(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onAddPlace({\n      name: name,\n      link: link,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"place\"\n      title=\"Новое место\"\n      submit=\"Сохранить\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      >\n        <input value={name} onChange={handleNameChange} type=\"text\" required minLength=\"2\" maxLength=\"30\" placeholder=\"Название\" name=\"placename\" id=\"place-name-input\" className=\"form__input form__input_type_place-name\" />\n        <span className=\"form__input-error place-name-input-error\"></span>\n        <input value={link} onChange={handleLinkChange} type=\"url\" required placeholder=\"Ссылка на картинку\" name=\"link\" id=\"place-link-input\" className=\"form__input form__input_type_place-link\" />\n        <span className=\"form__input-error place-link-input-error\"></span>\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup;\n","import React from \"react\";\nimport api from \"../utils/api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport ImagePopup from \"./ImagePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({name: '', link: ''});\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    api.getUserInfo()\n    .then((userInfo) => {\n      setCurrentUser(userInfo);\n    })\n    .catch(err => console.log(err))\n  }, [])\n\n  //добавление карточек и их функции\n  React.useEffect(() => {\n    api.getInitialCards()\n    .then((cards) => {\n      setCards(cards);\n    })\n    .catch(err => console.log(err))\n  }, [])\n\n  function handleAddPlaceSubmit(card) {\n    api.postCard(card)\n    .then((newCard) => {\n      setCards([newCard, ...cards])\n      closeAllPopups();\n    })\n    .catch(err => console.log(err))\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(like => like._id === currentUser._id);\n    api.changeLikeCardStatus(card, isLiked)\n    .then((newCard) => {\n      setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n    })\n    .catch(err => console.log(err));\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card)\n    .then(() => {\n      setCards((state) => state.filter((c) => c._id !== card._id));\n    })\n    .catch(err => console.log(err));\n  }\n\n  //открытие и закрытие попапов\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true);\n  }\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true);\n  }\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true);\n  }\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function closeAllPopups() {\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setEditAvatarPopupOpen(false);\n    setSelectedCard({name: '', link: ''});\n  }\n\n  //обновление данных пользователя\n  function handleUpdateUser(info) {\n    api.setUserInfo(info)\n    .then((userInfo) => {\n      setCurrentUser(userInfo);\n      closeAllPopups();\n    })\n    .catch(err => console.log(err))\n  }\n\n  function handleUpdateAvatar(avatar) {\n    api.changeAvatar(avatar)\n    .then(avatar => {\n      setCurrentUser(avatar);\n      closeAllPopups();\n    })\n    .catch(err => console.log(err))\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page__content\">\n        <Header />\n        <Main\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          onCardClick={handleCardClick}\n          cards={cards}\n          onCardLike={handleCardLike}\n          onCardDelete={handleCardDelete}\n        />\n        <Footer />\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n        />\n        <ImagePopup\n          card={selectedCard}\n          onClose={closeAllPopups}\n        />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}